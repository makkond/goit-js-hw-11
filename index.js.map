{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '49650448-036e738118328f32db28a86cb';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  try {\n    const response = await window.axios.get(BASE_URL, { params });\n    console.log('API Response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('API Error:', error);\n    throw new Error('Помилка при отриманні даних з Pixabay API');\n  }\n}\n","export function createGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  if (!galleryContainer) {\n    console.error('Gallery container not found!');\n    return;\n  }\n\n  const markup = images\n    .map(image => {\n      return `\n      <div class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\">\n          <img \n            class=\"gallery-image\" \n            src=\"${image.webformatURL}\" \n            alt=\"${image.tags}\" \n            loading=\"lazy\"\n          />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b>\n            ${image.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b>\n            ${image.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b>\n            ${image.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b>\n            ${image.downloads}\n          </p>\n        </div>\n      </div>\n    `;\n    })\n    .join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n  try {\n    const lightbox = new window.SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  } catch (error) {\n    console.error('Error initializing SimpleLightbox:', error);\n  }\n}\n\nexport function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  if (galleryContainer) {\n    galleryContainer.innerHTML = '';\n  }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader-container');\n  if (loader) {\n    loader.classList.remove('is-hidden');\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader-container');\n  if (loader) {\n    loader.classList.add('is-hidden');\n  }\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('DOM fully loaded');\n\n  const form = document.querySelector('.form');\n  const searchButton = document.querySelector('.form button');\n  const searchInput = document.querySelector('input[name=\"search-text\"]');\n\n  console.log('Form element:', form);\n  console.log('Search button:', searchButton);\n  console.log('Search input:', searchInput);\n\n  if (!form || !searchButton || !searchInput) {\n    console.error('Required elements not found!');\n    return;\n  }\n\n  searchButton.addEventListener('click', async () => {\n    console.log('Search button clicked');\n\n    const searchQuery = searchInput.value.trim();\n    console.log('Search query:', searchQuery);\n\n    if (!searchQuery) {\n      window.iziToast.error({\n        title: 'Помилка',\n        message: 'Будь ласка, введіть пошуковий запит',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    clearGallery();\n\n    showLoader();\n\n    try {\n      const data = await getImagesByQuery(searchQuery);\n      console.log('Data received:', data);\n\n      hideLoader();\n\n      if (data.hits.length === 0) {\n        window.iziToast.info({\n          title: 'Інформація',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      createGallery(data.hits);\n    } catch (error) {\n      console.error('Error in search handler:', error);\n\n      hideLoader();\n\n      window.iziToast.error({\n        title: 'Помилка',\n        message: error.message,\n        position: 'topRight',\n      });\n    }\n  });\n\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    console.log('Form submitted via Enter key');\n    searchButton.click();\n  });\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","response","error","createGallery","images","galleryContainer","markup","image","clearGallery","showLoader","loader","hideLoader","form","searchButton","searchInput","searchQuery","data","event"],"mappings":"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"}